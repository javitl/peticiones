(this.webpackJsonppeticiones=this.webpackJsonppeticiones||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(2),i=n.n(c),s=n(15),o=n.n(s),r=(n(31),n(10)),l=(n(32),n(12)),j=n.n(l),b=n(17),u=(n(34),n(23).a.initializeApp({apiKey:"AIzaSyApiXC2K33TgoSPzsGpeXyJzxqiUoS7ZlQ",authDomain:"peticiones-database.firebaseapp.com",projectId:"peticiones-database",storageBucket:"peticiones-database.appspot.com",messagingSenderId:"533564397302",appId:"1:533564397302:web:33e87d5ef15b2235c3bed7",measurementId:"G-EZJE2TZ34P"})),d=u.firestore(),p=u.storage(),m=n.p+"static/media/add-image.874e6fef.svg",g=n(24),f=(n(42),function(){return Object(a.jsx)("div",{className:"lds-heart",children:Object(a.jsx)("div",{})})}),O=n(13),h=(n(43),["https://i.pinimg.com/564x/ac/e0/1b/ace01bf624688cb3309544f09d8a3f1c.jpg","https://i.pinimg.com/564x/79/ac/09/79ac09357e9ae6b33621b698ef23bb8c.jpg","https://i.pinimg.com/564x/87/52/c1/8752c1e653eb99acc4801e6b0ecf3423.jpg","https://i.pinimg.com/564x/cb/28/ff/cb28ffbbdca24dbfa115d2334e7b1aa2.jpg","https://i.pinimg.com/564x/d2/db/28/d2db28c872c1f8548c05078a1f9d5575.jpg"]),x=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(""),l=Object(r.a)(o,2),u=l[0],x=l[1],v=Object(c.useState)(null),N=Object(r.a)(v,2),C=N[0],y=N[1],P=Object(c.useState)(h[Math.floor(Math.random()*h.length)]),S=Object(r.a)(P,2),k=S[0],_=S[1],w=Object(c.useState)(0),A=Object(r.a)(w,2),F=A[0],L=A[1],B=Object(c.useState)(0),E=Object(r.a)(B,2),I=E[0],M=E[1],J=Object(c.useState)(!1),T=Object(r.a)(J,2),z=T[0],H=T[1],U=function(){p.ref("images/".concat(C.name)).put(C).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){p.ref("images").child(C.name).getDownloadURL().then((function(e){D(e)}))}))},D=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(1),t.next=3,d.collection("peticiones").add({name:i,pray:u,image:n}).then((function(t){L(2),setTimeout((function(){O.b.info("Petici\xf3n enviada correctamente \ud83d\ude4f\ud83c\udffb",{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.setPage(0)}),2e3)})).catch((function(e){alert(e.message)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){M(u.length)}),[u.length]),Object(a.jsxs)(a.Fragment,{children:[0===F&&Object(a.jsx)("div",{className:"formulario-container",children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i&&""!==u&&I<=255&&z?C?U():D(k):(O.b.error("Por favor, llenar todos los campos \ud83d\udc4b\ud83c\udffb",{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),console.log("No andes hackeando pls"))},children:[Object(a.jsx)("input",{id:"imagen",className:"input-imagen",type:"file",onChange:function(e){e.target.files[0]&&("image/png"===e.target.files[0].type||"image/jpeg"===e.target.files[0].type?e.target.files[0].size<5242880?(_(URL.createObjectURL(e.target.files[0])),y(e.target.files[0])):(y(null),_(h[Math.floor(Math.random()*h.length)]),O.b.error("La Im\xe1gen es demasiado pesada \ud83d\udcf7",{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})):(y(null),_(h[Math.floor(Math.random()*h.length)]),O.b.error("Lo sentimos, esto no es im\xe1gen \ud83d\ude13",{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})))}}),k&&Object(a.jsxs)("label",{htmlFor:"imagen",className:"input-imagen__button",children:[Object(a.jsx)("div",{className:"input-imagen__button__overlay",children:Object(a.jsx)("img",{src:m})}),Object(a.jsx)("img",{className:"imagen-preview",src:k})]}),Object(a.jsx)("input",{className:"input-nombre",maxLength:"27",type:"text",name:"nombre",placeholder:"Nombre",onChange:function(e){return s(e.target.value)}}),Object(a.jsxs)("div",{className:"form-body",children:[Object(a.jsx)("textarea",{rows:8,type:"text",name:"nombre",placeholder:"Petici\xf3n",onChange:function(e){x(e.target.value)}}),I<=255?Object(a.jsxs)("span",{children:[I,"/255"]}):Object(a.jsxs)("span",{children:[Object(a.jsx)("span",{style:{color:"red"},children:I}),"/255"]}),Object(a.jsx)("div",{className:"captcha-container",children:Object(a.jsx)(g.a,{sitekey:"6Lcrx5wUAAAAAFivqPGaNfKEJiTi-YSdFfOJPes6",onChange:function(e){H(null!==e)}})}),Object(a.jsx)("button",{className:"form-button",disabled:""===i||""===u||I>255||!z,children:"Enviar"})]})]})}),1===F&&Object(a.jsx)(f,{}),2===F&&Object(a.jsx)("div",{className:"formulario-container",children:Object(a.jsx)("h2",{children:"Agregando tu petici\xf3n a la cajita \ud83d\udce6"})}),Object(a.jsx)(O.a,{})]})},v=(n(44),n(45),function(e){return Object(a.jsx)("a",{href:"#",className:"header-link "+e.className,onClick:e.onClick,children:e.texto})}),N=function(e){return Object(a.jsxs)("header",{children:[Object(a.jsx)(v,{onClick:function(){return e.setPage(0)},texto:"Orar por otros",className:0===e.page?"active":""}),Object(a.jsx)(v,{onClick:function(){return e.setPage(1)},texto:"Hacer peticion",className:1===e.page?"active":""})]})},C=n(25),y=(n(46),n(20)),P=n.n(y),S=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!1),o=Object(r.a)(s,2),l=o[0],u=o[1],p=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),t=d.collection("peticiones"),e.next=4,t.get();case 4:e.sent.forEach((function(e){i((function(t){return[].concat(Object(C.a)(t),[e.data()])}))})),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p()}),[]),Object(a.jsx)("div",{className:"grupo-tarjetas",children:l?Object(a.jsx)(f,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(y.ResponsiveMasonry,{columnsCountBreakPoints:{350:1,767:3,1023:5,1439:7},children:Object(a.jsx)(P.a,{children:n.map((function(e,t){return Object(a.jsxs)("div",{className:"tarjeta-peticion",children:[Object(a.jsx)("img",{className:"tarjeta-peticion__imagen",src:e.image}),Object(a.jsx)("div",{className:"tarjeta-peticion__nombre",children:e.name}),Object(a.jsx)("div",{className:"tarjeta-peticion__body",children:Object(a.jsx)("div",{className:"tarjeta-peticion__peticion",children:e.pray})})]},t)}))})}),Object(a.jsx)("div",{})]})})},k=function(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(N,{setPage:i,page:n}),0===n&&Object(a.jsx)(S,{}),1===n&&Object(a.jsx)(x,{setPage:i})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(k,{})}),document.getElementById("root")),_()}},[[49,1,2]]]);
//# sourceMappingURL=main.98641c19.chunk.js.map