(this.webpackJsonppeticiones=this.webpackJsonppeticiones||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(4),i=n.n(a),s=n(20),r=n.n(s),o=(n(30),n(10)),j=(n(31),n(12)),b=n.n(j),u=n(15),l=(n(33),n(22).a.initializeApp({apiKey:"AIzaSyApiXC2K33TgoSPzsGpeXyJzxqiUoS7ZlQ",authDomain:"peticiones-database.firebaseapp.com",projectId:"peticiones-database",storageBucket:"peticiones-database.appspot.com",messagingSenderId:"533564397302",appId:"1:533564397302:web:33e87d5ef15b2235c3bed7",measurementId:"G-EZJE2TZ34P"})),d=l.firestore(),p=l.storage(),f=n.p+"static/media/add-image.874e6fef.svg",m=n(23),O=(n(41),function(){return Object(c.jsx)("div",{className:"lds-heart",children:Object(c.jsx)("div",{})})}),g=["https://i.pinimg.com/564x/ac/e0/1b/ace01bf624688cb3309544f09d8a3f1c.jpg","https://i.pinimg.com/564x/79/ac/09/79ac09357e9ae6b33621b698ef23bb8c.jpg","https://i.pinimg.com/564x/87/52/c1/8752c1e653eb99acc4801e6b0ecf3423.jpg","https://i.pinimg.com/564x/cb/28/ff/cb28ffbbdca24dbfa115d2334e7b1aa2.jpg","https://i.pinimg.com/564x/d2/db/28/d2db28c872c1f8548c05078a1f9d5575.jpg"],h=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(""),j=Object(o.a)(r,2),l=j[0],h=j[1],x=Object(a.useState)(null),v=Object(o.a)(x,2),N=v[0],S=v[1],y=Object(a.useState)(!1),P=Object(o.a)(y,2),_=P[0],k=P[1],C=Object(a.useState)(g[Math.floor(Math.random()*g.length)]),w=Object(o.a)(C,2),A=w[0],F=w[1],E=Object(a.useState)(0),I=Object(o.a)(E,2),L=I[0],J=I[1],T=Object(a.useState)(0),U=Object(o.a)(T,2),z=U[0],B=U[1],D=Object(a.useState)(!1),M=Object(o.a)(D,2),R=M[0],G=M[1],K=function(){p.ref("images/".concat(N.name)).put(N).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){p.ref("images").child(N.name).getDownloadURL().then((function(e){Z(e)}))}))},Z=function(){var t=Object(u.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return J(1),t.next=3,d.collection("peticiones").add({name:i,pray:l,image:n}).then((function(t){J(2),setTimeout((function(){e.setPage(0)}),2e3)})).catch((function(e){alert(e.message)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){B(l.length)}),[l.length]),Object(c.jsxs)(c.Fragment,{children:[0===L&&Object(c.jsx)("div",{className:"formulario-container",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i&&""!==l&&z<=255&&R?_?K():Z(A):(alert("Por favor llenar todos los campos"),console.log("No andes hackeando pls"))},children:[Object(c.jsx)("input",{id:"imagen",className:"input-imagen",type:"file",onChange:function(e){e.target.files[0]&&(k(!0),S(e.target.files[0]),F(URL.createObjectURL(e.target.files[0])))}}),A&&Object(c.jsxs)("label",{htmlFor:"imagen",className:"input-imagen__button",children:[Object(c.jsx)("div",{className:"input-imagen__button__overlay",children:Object(c.jsx)("img",{src:f})}),Object(c.jsx)("img",{className:"imagen-preview",src:A})]}),Object(c.jsx)("input",{className:"input-nombre",maxLength:"27",type:"text",name:"nombre",placeholder:"Nombre",onChange:function(e){return s(e.target.value)}}),Object(c.jsxs)("div",{className:"form-body",children:[Object(c.jsx)("textarea",{rows:8,type:"text",name:"nombre",placeholder:"Petici\xf3n",onChange:function(e){h(e.target.value)}}),z<=255?Object(c.jsxs)("span",{children:[z,"/255"]}):Object(c.jsxs)("span",{children:[Object(c.jsx)("span",{style:{color:"red"},children:z}),"/255"]}),Object(c.jsx)("div",{className:"captcha-container",children:Object(c.jsx)(m.a,{sitekey:"6Lcrx5wUAAAAAFivqPGaNfKEJiTi-YSdFfOJPes6",onChange:function(e){G(null!==e)}})}),Object(c.jsx)("button",{className:"form-button",disabled:""===i||""===l||z>255||!R,children:"Enviar"})]})]})}),1===L&&Object(c.jsx)(O,{}),2===L&&Object(c.jsx)("div",{className:"formulario-container",children:Object(c.jsx)("h2",{children:"Petici\xf3n enviada correctamente \ud83d\ude4f\ud83c\udffb"})})]})},x=(n(42),n(43),function(e){return Object(c.jsx)("a",{href:"#",className:"header-link "+e.className,onClick:e.onClick,children:e.texto})}),v=function(e){return Object(c.jsxs)("header",{children:[Object(c.jsx)(x,{onClick:function(){return e.setPage(0)},texto:"Orar por otros",className:0===e.page?"active":""}),Object(c.jsx)(x,{onClick:function(){return e.setPage(1)},texto:"Hacer peticion",className:1===e.page?"active":""})]})},N=n(24),S=(n(44),n(18)),y=n.n(S),P=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(!1),r=Object(o.a)(s,2),j=r[0],l=r[1],p=function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t=d.collection("peticiones"),e.next=4,t.get();case 4:e.sent.forEach((function(e){i((function(t){return[].concat(Object(N.a)(t),[e.data()])}))})),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p()}),[]),Object(c.jsx)("div",{className:"grupo-tarjetas",children:j?Object(c.jsx)(O,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(S.ResponsiveMasonry,{columnsCountBreakPoints:{350:1,767:3,1023:5,1439:7},children:Object(c.jsx)(y.a,{children:n.map((function(e,t){return Object(c.jsxs)("div",{className:"tarjeta-peticion",children:[Object(c.jsx)("img",{className:"tarjeta-peticion__imagen",src:e.image}),Object(c.jsx)("div",{className:"tarjeta-peticion__nombre",children:e.name}),Object(c.jsx)("div",{className:"tarjeta-peticion__body",children:Object(c.jsx)("div",{className:"tarjeta-peticion__peticion",children:e.pray})})]},t)}))})}),Object(c.jsx)("div",{})]})})},_=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(v,{setPage:i,page:n}),0===n&&Object(c.jsx)(P,{}),1===n&&Object(c.jsx)(h,{setPage:i})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(_,{})}),document.getElementById("root")),k()}},[[47,1,2]]]);
//# sourceMappingURL=main.5731037e.chunk.js.map